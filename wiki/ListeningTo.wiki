#summary ListeningTo plugin description

= ListeningTo plugin =

This plugins allows to set/remove your listening info to protocols that support it. It also has basic support for getting this info from the players.

This means that it set the user listening to information, not the info from your contacts. To see the info from your contacts you need a clist that supports it (only modern now) or a plugin like tipper (for a contact this info is stored inside `<ProtocolName>/ListeningTo` db key of the contact).

Any protocol that support some services (in m_proto_listeningto.h) can interface with this plugin. By now it means JGmail unicode version, MSN and Jabber.

This protocol also save the listening info for the user (you!) into `<ProtocolName>/ListeningTo` db key.

*This plugin is disbled by default. To enable it you need to use the main menu: `Listening to->Send to all protocols` or use My Details (the option is in popup menu).*

If you want this to implement some other player, I need a link to a page that explain how to do it, getting all the data, if possible without polling. (iTunes do it now but wont do in future). If you need more options, etc, use WATrack... This plugin is meant to be kept small.

One last thing: when reporting bugs, please post the name and version of the player you are using.

It also support Variables plugin to format the info, but it has to be the lastest version of the plugin (avaiable at http://pboonplugins.googlecode.com/). This version allows to use temporary variables in the replacement too, so you can use %artist%.

To report bugs/make suggestions, go to the forum thread: http://forums.miranda-im.org/showthread.php?t=10912

This plugin requires at least miranda 0.6, but is fully functional only in miranda 0.7

=== TODO ===
 * Better support for iTunes (it is not good now)
 * For Quintessential player you can use this one: http://www.quinnware.com/list_plugins.php?plugin=149

=== Changelog ===
{{{
. 0.1.2.2
  * Fix to work on Win 9X
  * Fix to compile in VS2005

. 0.1.2.1
  + Support not moded version of variables too
  * Fix for foo_mlt and non english tags

. 0.1.2.0
  + Added variables support for template and XStatus template - need Variables MOD
  + Added option to disable info per type
  + Added foobar plugin (need to be installed manually) - thanks LRN for this one

. 0.1.1.8
  + First step for foobar support
  + Added service to allow other plugins to send info to this one
  * Renamed mlt_winamp.dll to gen_mlt.dll (to be more compatible with winamp). You can delete mlt_winamp.dll

. 0.1.1.7
  * Fix for crash when disabled
  + Wait at least 10s beetween protocol notifications 

. 0.1.1.6
  * Fix to get info from radio station in winamp
  * Fix to remove listening to data on startup

. 0.1.1.5
  + Added icon to main menu
  - Removed old hack for clist classic
  + Changed variables to show unknown text when an info is not available and to, if tested with ?if(), return false

. 0.1.1.4
  + Added support for Miranda 0.8

. 0.1.1.3
  + Added variables to variables plugin. Now listening info can be used in away messages.
  + Winamp plugin will reload info for current song at each 3s. This will make radio station names be handled better.

. 0.1.1.2
  + Added 'If other XStatus is not set, set XStatus to Music and show listening info'
  * Changes in options dialog strings

. 0.1.1.1
  * Fix for IcoLib support

. 0.1.1.0
  + Added handling of XStatus
  + Added IcoLib support
  + Added langpack file
  - Removed option to remove menu item (use menu order option dialog instead)

. 0.1.0.9
  + Option to set string to show when info is not avaible
  * Changed host of files
  * Changes for miranda 0.6 mmi
  * fix for pressing configure in winamp

. 0.1.0.8
  * Fix for getting video info from winamp

. 0.1.0.7
  * Fixes for winamp 5.3
  + Change internal struct. THIS VERSION IS NOT COMPATIBLE WITH PREVIOUS ONE. USE NEW VERSION OF PROTOCOLS.

. 0.1.0.6
  * More fixes for winamp
  * Try tp fix (null) in MSN client

. 0.1.0.5
  * Fixes for WMP and winamp

. 0.1.0.4
  * Fixes in winamp plugin (first song was not set and pause was not handled)
  + Added help file in listeningto dir
  * WATrack integration works

. 0.1.0.3
  + Event to help My Details
  * Fix for winamp stop playing

. 0.1.0.2
  + Made external plugin for winamp
  + Option to auto-load plugin
  + Listening to extra icon

. 0.1.0.1
  + More code to work with WATrack (don't work yet)
  * Fixes

. 0.1.0.0
  + Initial version
}}}